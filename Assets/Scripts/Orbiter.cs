using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityStandardAssets.CrossPlatformInput;

public class Orbiter : MonoBehaviour {

	public Transform Pivot = null;
	public float PivotDistance = 5f;
	public float RotSpeed = 10f;

	private Quaternion RotDest = Quaternion.identity;
	private Transform ThisTransform = null;
	private float RotX = 0f;
	private float RotY = 0f;


	// Use this for initialization
	void Awake () {

		ThisTransform = this.GetComponent<Transform>();

	}
	
	// Update is called once per frame
	void Update () {

		float Horz = CrossPlatformInputManager.GetAxis ("Horizontal");
		float Vert = CrossPlatformInputManager.GetAxis ("Vertical");

		RotY += Horz * Time.deltaTime * RotSpeed;
		RotX += Vert * Time.deltaTime * RotSpeed;

		Quaternion Yrot = Quaternion.Euler(0f, RotY, 0f);
		RotDest = Yrot * Quaternion.Euler (RotX, 0f, 0f);

		ThisTransform.rotation = RotDest;

		ThisTransform.position =  Pivot.transform.position + ThisTransform.rotation * Vector3.forward * -PivotDistance;

		
	}
}
